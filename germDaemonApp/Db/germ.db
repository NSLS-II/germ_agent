#-------------------------------------------

record(stringin, "$(Sys)$(Dev):IPADDR_RBV") {
}

record(stringin, "$(Sys)$(Dev):DATAFILE_DIR") {
}

record(stringin, "$(Sys)$(Dev):TMP_DATAFILE_DIR") {
}

record(stringin, "$(Sys)$(Dev):FNAM_RBV") {
}

record(longin, "$(Sys)$(Dev):FSIZ") {
}

record(longin, "$(Sys)$(Dev):FSIZ_RBV") {
}

record(longin, "$(Sys)$(Dev):RUNNO_RBV") {
}

record(longin, "$(Sys)$(Dev):NELM_RBV") {
}

record(longin, "$(Sys)$(Dev):MONCH_RBV") {
}

record(stringin, "$(Sys)$(Dev):DATA_FILENAME") {
}

record(stringin, "$(Sys)$(Dev):SPEC_FILENAME") {
}

#-------------------------------------------

record(longin, "$(Sys)$(Dev):PID") {
}

record(stringin, "$(Sys)$(Dev):HOSTNAME") {
}

record(stringin, "$(Sys)$(Dev):DIR") {
}

#-------------------------------------------

#record(mbbi, "$(Sys)$(Dev):SCANSTATUS") {
#    field("ZRVL", 0)
#    field("ONVL", 1)
#    field("TWVL", 2)
#    field("ZRST", "Idle")
#    field("ONST", "Stage")
#    field("TWST", "Scan")
#}

#-------------------------------------------

#record(longin, "$(Sys)$(Dev):HEARTBEAT") {
#}

record(calc, "$(Sys)$(Dev):WATCHDOG") {
    field(INPA, "$(Sys)$(Dev):WATCHDOG")
    field(CALC, "A+1")
    field(FLNK, "$(Sys)$(Dev):ONLINE")
    field(SCAN, "1 second")
}

record(longin, "$(Sys)$(Dev):TOLERANCE") {
    field(VAL, 5)
}


record(calc, "$(Sys)$(Dev):ONLINE") {
    field(INPA, "$(Sys)$(Dev):WATCHDOG")
    field(INPB, "$(Sys)$(Dev):TOLERANCE")
    field(CALC, "(A<B)?1:0")
}


#-------------------------------------------

record(waveform, "$(Sys)$(Dev):MCA") {
    field(NELM, $(NELM_MCA))
    field(FTVL, USHORT)
}

record(waveform, "$(Sys)$(Dev):TDC") {
    field(NELM, $(NELM_TDC))
    field(FTVL, USHORT)
}

#-------------------------------------------

record(bi, "$(Sys)$(Dev):TSEN_PROC") {
    field(ZNAM, "Idle")
    field(ONAM, "Process")
}

record(bi, "$(Sys)$(Dev):CHEN_PROC") {
    field(ZNAM, "Idle")
    field(ONAM, "Process")
}

record(mbbi, "$(Sys)$(Dev):TSEN_CTRL") {
    field("ZRVL", 0)
    field("ONVL", 1)
    field("TWVL", 2)
    field("THVL", 3)
    field("ZRST", "Enable")
    field("ONST", "Enable All")
    field("TWST", "Disable")
    field("THST", "Disable All")
}

record(mbbi, "$(Sys)$(Dev):CHEN_CTRL") {
    field("ZRVL", 0)
    field("ONVL", 1)
    field("TWVL", 2)
    field("THVL", 3)
    field("ZRST", "Enable")
    field("ONST", "Enable All")
    field("TWST", "Disable")
    field("THST", "Disable All")
}

#-------------------------------------------

record(calc, "$(Sys)$(Dev):TIME_LEFT")
{
    field(INPA, "$(Sys)$(Dev).CNT")
    field(INPB, "$(Sys)$(Dev).TP")
    field(INPC, "$(Sys)$(Dev):TIME_LEFT")
    field(CALC, "(A=0) ? B : ((C>0) ? (C-1) : 0)")
    field(SCAN, "1 second")
}

